---
layout: post
author: vf
---

## 上传模块分析
从之前的用例、活动图中，我们可以归纳出如下几个参与整个活动的实体：
1. 用户，且用户至少具有 uid、账号、密码三个基本属性，为了使得业务不那么单薄，现增加一个昵称字段
2. 文件，文件可以参考Linux文件系统，至少具备文件id、名称、创建时间三个字段
3. 文件的分片，文件的分片也应该作为一个实体，至少应具备一个该分片的id和分片状态字段，标示当前分片上传中/已上传的状态

我们也可以分析出这些实体之间的关系：
1. 一个用户关联多个文件
2. 一个文件关联多个文件分片

可以绘制出E-R图如下


## 上传模块详细设计
### 上传原理学习
在我们开发一项具体的功能之前，往往需要搭建一些简单的Demo，用来验证功能是否可以完整的实现

<!-- ### 数据库设计
首选就是数据库表的设计，结合E-R图和分析出来的实体，可以创建如下两个表

1.文件表


2.文件分片表

###  -->